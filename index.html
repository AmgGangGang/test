<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>红绿灯</title>
		<style type="text/css">
			div{
				display: inline-block;
			}
			div:not(:last-child){
				width: 100px;
				height: 100px;
				border-radius: 100%;
				background: black;
			}
			#count{
				font-size: 80px;
			}
			
		</style>
	</head>
	<body>
		<script>
			window.onload=function(){
				var count=3
				var r=document.getElementById("red")
				var y=document.getElementById("yellow")
				var g=document.getElementById("green")
				//加载完毕默认红灯
				change(r,"red")
				var timer=setInterval(function(){tick(y,"yellow")},1000)
				setTimeout(setInterval(function(){tick(y,"yellow")},1000),3000)
				
				
				//改变灯光函数
				function change(obj,param){
					obj.style.backgroundColor=param
				}
				
				function tick(obj,param){
					document.getElementById("count").innerHTML=--count
					if(count==0){
						if(obj==y){
							change(r,"black")
							change(y,param)
						}else if(obj==g){
							change(y,"black")
							change(g,param)
						}
						count=3
						clearInterval(timer)
					}
					
				}
			}
		</script>
		<center>
			<div id="red"></div>
			<div id="yellow"></div>
			<div id="green"></div>
			<div id="count">3</div>
			
		</center>
		
	</body>
</html>
